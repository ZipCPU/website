<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Good Software Engineering Principles Apply to Students Too</title>
  <meta name="description" content="Trust me, I get it.  I’ve been there.  You’ve got a project due and you arestruggling to get it to work.  It just needs to work.  It doesn’t need tolook good...">

  <link rel="shortcut icon" type="image/x-icon" href="/img/GT.ico">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://zipcpu.com/blog/2017/10/30/student-sw-engr.html">
  <link rel="alternate" type="application/rss+xml" title="The ZipCPU by Gisselquist Technology" href="https://zipcpu.com/feed.xml">
</head>


  <body>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4ZK7HKHSVW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4ZK7HKHSVW');
</script>

    <header class="site-header">
  <div id="banner">
  <a href="/"><picture>
    <img height=120 id="site-logo" src="/img/fullgqtech.png" alt="Gisselquist Technology, LLC">
  </picture></A>
  </div>

  <div class="site-nav">
<ul>

<li><a HREF="/">Main/Blog</a>


<li><a HREF="/about/">About Us</a>


<li><a HREF="/fpga-hell.html">FPGA Hell</a>


<li><a HREF="/tutorial/">Tutorial</a>
<li><a HREF="/tutorial/formal.html">Formal training</a>


<li><a HREF="/quiz/quizzes.html">Quizzes</a>


<li><a HREF="/projects.html">Projects</a>


<li><a HREF="/topics.html">Site Index</a>

<HR>

<li><a href="https://twitter.com/zipcpu"><span class="icon--twitter"><svg viewBox="0 0 400 400"><path fill="#1da1f2" d="M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23"/></svg>
</span><span class="username">@zipcpu</span></a>

<li><a href="https://www.reddit.com/r/ZipCPU"><span class="username">Reddit</a>
<li><a HREF="https://www.patreon.com/ZipCPU"><IMG SRC="/img/patreon_logomark_color_on_white.png" WIDTH="25"> Support</a>
</ul>
</div>


</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="https://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Good Software Engineering Principles Apply to Students Too</h1>
    <p class="post-meta"><time datetime="2017-10-30T00:00:00-04:00" itemprop="datePublished">Oct 30, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Trust me, I get it.  I’ve been there.  You’ve got a project due and you are
struggling to get it to work.  It just needs to work.  It doesn’t need to
look good.  The instructor isn’t going to grade how well (or poorly) you
created your assignment.  That’s not the requirement.  The requirement is only
that it works, and the deadline is approaching.</p>

<p>So … why do you need to practice good software engineering?</p>

<p>Let’s look at a couple examples, shall we?</p>

<h2 id="magic-numbers">Magic Numbers</h2>

<p><strong>Principle:</strong> <em>Don’t use magic numbers</em></p>

<p>A <a href="https://en.wikipedia.org/wiki/Magic_number_(programming)">magic number</a>
is a number that is neither one nor zero, and yet it gets placed
into your code with no explanation.</p>

<p>Years ago, I had the opportunity to sit next to an engineer who was trying to
maintain a piece of software that predicted certain properties of the
<a href="https://en.wikipedia.org/wiki/Ionosphere">ionosphere</a>.  The code he was
working on had been written decades earlier, and it contained
tables of numbers within it.  These tables, however, came with no explanation
as to how they were derived.  The engineer working on this task showed these
numbers to me and asked, rhetorically, how shall I know if these numbers are
still valid?</p>

<p>While it’s easy to argue that good software shouldn’t include numbers with no
explanation, such as this program did, what about throw away software?  Software
that only needs to work once?</p>

<p>To answer that question, consider the example of a student who was trying to
implement a <a href="/dsp/2017/08/30/cordic.html">CORDIC algorithm</a>
for class.  As you may recall from <a href="/dsp/2017/08/30/cordic.html">our discussion on how to build a CORDIC
algorithm</a>, such an algorithm
depends upon a table of arctangents.  This student had dutifully calculated
and placed this table within his code.</p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++">	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">255412811</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">125657214</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">62581571</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">31260178</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">15626271</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">7812658</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">3906269</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">1953127</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">976562</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">488281</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">244140</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">122070</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">61035</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">30517</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">15258</span><span class="p">);</span>
	<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">7629</span><span class="p">);</span></code></pre></figure>

<p>He then asked why his code wasn’t working.</p>

<p>Looking over his code, it was impossible to know if he had gotten the table
right.  I didn’t know what formula he had used, or even if he
had gotten the formula right or not.  Further, aside from the problem
associated with knowing that the table was correct, there’s also the problem
of fixing the table once you discover an error since you would then need
to correct <em>every</em> line in the table.  Oh, and did I mention that copying
tables by hand is prone to error in the first place?</p>

<p>Consider the alternative, shown below:</p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++">	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">k</span><span class="o">&lt;</span><span class="mi">32</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="kt">int32_t</span>	<span class="n">ival</span><span class="p">;</span>
		<span class="kt">double</span>	<span class="n">tanv</span><span class="p">,</span> <span class="n">drad</span><span class="p">,</span> <span class="n">atnh</span><span class="p">;</span>

		<span class="c1">// We want the arctan of 2^(-k-1)</span>
		<span class="n">tanv</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span>
		<span class="n">tanv</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">tanv</span><span class="p">;</span>

		<span class="c1">// The angle, in radians, for the arctangent</span>
		<span class="n">drad</span> <span class="o">=</span> <span class="n">atanh</span><span class="p">(</span><span class="n">tanv</span><span class="p">);</span>

		<span class="c1">// Scale this angle to 0..2^N-1 units, for N=32</span>
		<span class="n">atnh</span> <span class="o">=</span> <span class="p">(</span><span class="n">drad</span><span class="o">/</span><span class="mf">2.0</span><span class="o">/</span><span class="n">M_PI</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">30</span><span class="p">)</span><span class="o">*</span><span class="mf">4.0</span><span class="p">;</span>

		<span class="c1">// Convert this value to an integer</span>
		<span class="n">ival</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">atnh</span><span class="p">;</span>

		<span class="c1">// Stop if this integer ever becomes zero</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ival</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">break</span><span class="p">;</span>

		<span class="c1">// Add this value to the table</span>
		<span class="n">atanhAngles</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ival</span><span class="p">);</span>
	<span class="p">}</span></code></pre></figure>

<p>Look at all of the math involved in getting this table right.  Consider what
would’ve happened if there was just one error in this code above.</p>

<p>For these reasons, I will recommend that student’s not use pre-generated
numbers within their code.  If you really need a table of numbers for your
application (this is pretty common), then I would recommend that the code
necessary to populate your table also be distributed with the <em>magic numbers</em>.</p>

<h2 id="the-rule-of-one-not-three">The rule of one (not three)</h2>

<p><strong>Principle:</strong> <em>Don’t repeat yourself.</em></p>

<p>If you have to build an algorithm, build it once.  Build it right, use it
everywhere, but don’t repeat yourself.</p>

<p>Wikipedia refers to the <a href="https://en.wikipedia.org/wiki/Rule_of_three_(computer_programming)">rule of
three</a>
in computer programming.  The basic rule is that once you have three copies of
the same algorithm, then it is time to refactor all three versions of the
algorithm so that they reference the same single piece of working code.</p>

<p>Allow me to argue that this rule applies <em>even more</em> to students, and
<em>especially</em> to code that hasn’t been proven yet–code that may still be buggy.</p>

<p>Years ago I watched this lesson play out in a <a href="https://en.wikipedia.org/wiki/Computer_engineering">computer
engineering</a> course.
<a href="https://en.wikipedia.org/wiki/Computer_engineering">Computer engineering</a>, for
those unfamiliar with it, is sort of a cross between <a href="https://en.wikipedia.org/wiki/Computer_science">computer
science</a> and
<a href="https://en.wikipedia.org/wiki/Electrical_engineering">electrical engineering</a>.
As a result, the course included both individuals with a <a href="https://en.wikipedia.org/wiki/Computer_science">computer
science</a>
background, such as myself, and others with more of an <a href="https://en.wikipedia.org/wiki/Electrical_engineering">electrical
engineering</a>
background.  The projects in the course involved building various circuits with
computer chips and peripherals, and then programming the computer chip within
those circuits to do some instructor provided task.</p>

<p>What I remember from the course is being surprised at how little the
<a href="https://en.wikipedia.org/wiki/Electrical_engineering">electrical engineering</a>
students were re-using their code.  We were writing code in 8086 assembly
at the time, and an example piece of code might be the software necessary to
send a string over a serial port.  My approach was to convert any code that I
needed more than once into functions that could then be called as often as I
needed them.  I considered this to be a standard <a href="https://en.wikipedia.org/wiki/Computer_science">computer
science</a> principle.</p>

<p>What I observed was that the <a href="https://en.wikipedia.org/wiki/Electrical_engineering">electrical
engineering</a> students
ended up spending a lot of their time debugging the same software over and over.</p>

<p>Please don’t get me wrong, I’m not trying to be critical of all <a href="https://en.wikipedia.org/wiki/Electrical_engineering">electrical
engineering</a> students.
I’m just commenting about those I shared this class with who were kind enough
to allow me to look over their shoulders.  While it may be that these students
hadn’t yet learned this fundamental software lesson, I’d like to think that
other <a href="https://en.wikipedia.org/wiki/Electrical_engineering">electrical
engineering</a>
students know better.</p>

<p>The problem is that buggy code needs to be fixed, and buggy code in more than
one place needs to be more than once.  Worse, if you aren’t (yet) certain that
the code in question works in the first place, and you are searching for bugs,
then it’s really easy to let a bug in one copy slip by you as you fix the other
copy.</p>

<p>Time is tight, don’t waste it.</p>

<p>For this reason, I recommend the <em>rule of one</em> for students and anyone else
trying to get something to work for the first time.  Build it <em>once</em>.
Don’t copy it—especially don’t copy it before you <em>know</em> that it works.
Make a function and call that function instead.</p>

<p>This also applies to the
<a href="https://en.wikipedia.org/wiki/Field-programmable_gate_array">FPGA</a>
designer: reuse logic by separating it into its own module rather
than copying it multiple times across your code–<em>especially</em> before you
know whether or not the logic even works, or if it is the right logic for
the job.</p>

<h2 id="data-types">Data Types</h2>

<p><strong>Principle:</strong> <em>Store items with different meanings in different data types.</em></p>

<p>To put things simply, let the compiler (or synthesis tool) find as many
bugs for you as you can.</p>

<p>I know, I’m a die-hard C-programmer who uses Verilog rather than VHDL.  You
might find it strange to hear this advice coming from me, but I’ll say it
anyway: let the tools find as many errors as you can.</p>

<p>Use software data types to your advantage.  If a value will only be one of
a handful, use an enumerated type (in software) or set the number of bits for
that handful to the smallest number required in HDL.  If you have values
occupying, for example, several stages within a
<a href="/dsp/2017/08/30/cordic.html">CORDIC</a>, each having <code class="language-plaintext highlighter-rouge">x</code>, <code class="language-plaintext highlighter-rouge">y</code>,
and <code class="language-plaintext highlighter-rouge">angle</code> values, then don’t store those in an array.  Use a structure.</p>

<p>In Verilog, run <a href="https://www.veripool.org/wiki/verilator">verilator</a>
and <a href="/blog/2017/06/21/looking-at-verilator.html">use the -Wall
option</a>.</p>

<p>You can do the same in C++: Turn on the ‘-Wall’ compiler option.</p>

<p>Software data types are there for a reason–use them to your advantage.</p>

<h2 id="pi-is-not-314159">Pi is not 3.14159</h2>

<p><strong>Principle:</strong> Use the tools library to your advantage</p>

<p>I remember hearing a sad satellite story from years ago about the difficulty
that the ground team was having while trying to track their satellite(s).
Sadly, the details of this story have left me.  Perhaps someone else remembers
and can fill me in.  What I remember from the story, though, was that when
all was said and done the problem was the software that declared <code class="language-plaintext highlighter-rouge">PI</code> to be
<code class="language-plaintext highlighter-rouge">3.141</code>.</p>

<p>On my Linux machine, PI is defined in <code class="language-plaintext highlighter-rouge">math.h</code> as</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#define M_PI               3.14159265358979323846  </span><span class="cm">/* pi */</span></code></pre></figure>

<p>Use this definition.  Even for students: use this definition.  Get into the
practice of using your tools–they are there for a reason.</p>

<h2 id="be-kind-to-othersyour-grade-depends-upon-it">Be kind to others–your grade depends upon it</h2>

<p><strong>Principle:</strong> <em>Don’t bite the hand that feeds you.</em></p>

<p>I’ve had the wonderful opportunity to help many wayward students over the
years.  The one thing that turns me off, however, is the student who is
gets frustrated and then angry at whatever difficulty he is having.  This
angry student will then show up on whatever forum looking for help.  He’ll
swear at himself, he’ll yell, and destroy his own online reputation.</p>

<p>Sometimes these individuals turn to the forums spewing filth at whoever
built the tool he’s using.  At this point, it doesn’t make a difference if
the tool is good or bad, this individual will turn others off from helping him.</p>

<p>If you are getting angry then go take a walk.  Get some exercise.  If it’s
late at night, get some sleep.  Come back to the problem later when you have
a clearer mind.</p>

<p>The last thing you want to do is to proclaim to all that you are hard to work
with, particularly when you need some help from others.</p>

<h2 id="patience">Patience</h2>

<p><strong>Principle:</strong> <em>And not only so, but we glory in tribulations also: knowing that tribulation worketh patience; and patience, experience; and experience, hope</em>
(Romans 5:3-4)</p>

<p>Yeah, I get it, your project is do in a month, in a week, or even tomorrow.
I understand.  It’s late at night and it isn’t working.  I get it.  I’ve been
there.  However, getting stressed or anxious about it isn’t going to help you
get your design working any faster.</p>

<p>Sound engineering requires diligent patience, discipline, and careful attention
to the smallest details.  This takes time.  It requires a cool and level
head.  Engineering problems can be subtle.  They can hide in the difference
between a ‘0’ and a zero.  Give yourself the time you need, and don’t try to
rush the job—even as the end is imminent.</p>

<p><strong>Corrolary:</strong> <em>Give each project the time it needs.</em></p>

<p>If you can’t rush a project at the end, then front load the project and give
it the time it needs early on so that you don’t end up rushed at the end.
If your instructor gives you a couple of months, then trust him: he might know
something.  Start early.  You won’t be able to recover any wasted time later.</p>

<h2 id="prayer">Prayer</h2>

<p>While I’m sure there are many other software engineering principles, I’d
like to close with a final observation.  There have been <em>many</em> times when
I’ve personally gotten stuck on one problem or another.  Maybe it’s getting
late and, after a long hard day, I still haven’t gotten a problem working.</p>

<p>Let me share with you my personal secret weapon: prayer.  Put the project down
and take some time to pray.  <em>Trust God</em> to take care of it, and then get some
sleep.  In the morning, pray again before returning to the problem.</p>

<p>You’ll be amazed at how prayer both changes your outlook, as well as how
God can just suddenly reveal key details to you that you were missing before.</p>

  </div>


<div class "verse">
<HR align="center;" width="25%">
<P><em>Rejoice, O young man, in thy youth; and let thy heart cheer thee in the days of thy youth, and walk in the ways of thine heart, and in the sight of thine eyes: but know thou, that for all these things God will bring thee into judgment. (Eccl 11:9)</em>


</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">The ZipCPU by Gisselquist Technology</h2>
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <!-- <li></li> -->
          <li><a href="mailto:zipcpu@gmail.com">zipcpu@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="soc-medlist">
          
          <li>
            <a href="https://github.com/ZipCPU"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">ZipCPU</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/zipcpu"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">@zipcpu</span></a>

          </li>
          
          
          <li><A href="https://www.patreon.com/ZipCPU"><img src="/img/become_a_patron_button.png"></a></li>
          

        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>The ZipCPU blog, featuring how to discussions of FPGA and soft-core CPU design.  This site will be focused on Verilog solutions, using exclusively OpenSource IP products for FPGA design.  Particular focus areas include topics often left out of more mainstream FPGA design courses such as how to debug an FPGA design.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
